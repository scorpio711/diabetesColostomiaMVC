function iniciarApp(){consultarApi()}async function consultarApi(){try{const e="https://api.cal.com/v1/bookings?userId=1&apiKey=cal_live_734742ae8dbe3eae4139d063a47b8f3d",t=await fetch(e),n=await t.json();filtrar(n.bookings)}catch(e){console.log(e)}}function filtrar(e){const t=new Date;mostrarBookings(e.filter(e=>new Date(e.startTime)>t))}function mostrarBookings(e){const t=document.getElementById("bookingTableBody");e.forEach(e=>{const{startTime:n,endTime:a,attendees:o,user:d,id:r}=e,c=document.createElement("tr");c.className="border-b dark:border-gray-700";const i=document.createElement("td");i.className="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",i.textContent=d.name;const s=document.createElement("td");s.className="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",s.textContent=d.email;const m=document.createElement("td");m.className="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",m.textContent=new Date(n).toLocaleString();const l=document.createElement("td");l.className="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",l.textContent=new Date(a).toLocaleString();const p=document.createElement("td"),u=document.createElement("button");u.id="deleteButton",u.className="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",u.textContent="Cancelar",u.type="button",p.appendChild(u),c.appendChild(i),c.appendChild(s),c.appendChild(m),c.appendChild(l),c.appendChild(p),t.appendChild(c),document.getElementById("deleteButton").addEventListener("click",()=>{cancelarCita(r)})})}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));